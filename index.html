<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  
  <script src="https://unpkg.com/cytoscape/dist/cytoscape.min.js"></script>
  <script src="https://unpkg.com/papaparse@5.3.2/papaparse.min.js"></script>
  <script src="https://unpkg.com/whatwg-fetch@3.0.0/dist/fetch.umd.js"></script>
  
  <script src="https://unpkg.com/webcola@3.4.0/WebCola/cola.min.js"></script>
  <script src="https://unpkg.com/cytoscape-cola@2.3.0/cytoscape-cola.js"></script>
  <script src="https://unpkg.com/klayjs@0.4.1/klay.js"></script>
  <script src="https://unpkg.com/cytoscape-klay@3.1.4/cytoscape-klay.js"></script>
  <script src="https://unpkg.com/weaverjs@1.2.0/dist/weaver.js"></script>
  <script src="https://unpkg.com/cytoscape-spread@3.0.0/cytoscape-spread.js"></script>
  <script src="https://unpkg.com/dagre@0.7.4/dist/dagre.js"></script>
  <script src="https://unpkg.com/cytoscape-dagre@2.4.0/cytoscape-dagre.js"></script>
  
  <script src="https://unpkg.com/file-saver@1.3.8/FileSaver.js"></script>
  <script src="https://unpkg.com/cytoscape-svg/cytoscape-svg.js"></script>
</head>
<body>
  <div id="sidebar">
    
    <h1>Class Diagram Visualization</h1>
    
    <div class="menu">
      <h2>Save diagram</h2>
      <button onclick="saveAsSvg()">Save as SVG</button>
      <button onclick="window.location=getSvgUrl()">View SVG</button>
    </div>
    
    <div class="menu">
      <h2>Show/hide relationships</h2>
      <label for="subpackage">
        <input type="checkbox" id="subpackage" name="showrels" 
        onchange="setVisible(this)" value="subpackage" checked="true">Subpackage</input>
      </label><br/>
      <label for="inherits">
        <input type="checkbox" id="inherits" name="showrels" 
        onchange="setVisible(this)" value="inherits" checked="true">Inherits</input>
      </label><br/>
      <label for="calls">
        <input type="checkbox" id="calls" name="showrels" 
        onchange="setVisible(this)" value="calls">Calls</input>
      </label><br/>
      <label for="creates">
        <input type="checkbox" id="creates" name="showrels" 
        onchange="setVisible(this)" value="creates">Creates</input>
      </label><br/>
      <label for="uses">
        <input type="checkbox" id="uses" name="showrels" 
        onchange="setVisible(this)" value="uses">Uses</input>
      </label><br/>
      <label for="has">
        <input type="checkbox" id="has" name="showrels" 
        onchange="setVisible(this)" value="has">Has</input>
      </label><br/>
      <label for="references">
        <input type="checkbox" id="references" name="showrels" 
        onchange="setVisible(this)" value="references">References</input>
      </label><br/>
    </div>
    
    <div class="menu">
      <h2>Line bends</h2>
      <table style="width: 100%; text-align: left">
        <thead>
          <th>Connection</th>
          <th>Ortho</th>
          <th>Bezier</th>
        </thead>
        <tr>
          <td>Subpackage</td>
          <td><input type="radio" onchange="setLineBends(this)" id="package-ort" name="subpackage" value="taxi"></td>
          <td><input type="radio" onchange="setLineBends(this)" id="package-bez" name="subpackage" value="bezier" checked="true"></td>
        </tr>
        <tr>
          <td>Inherits</td>
          <td><input type="radio" onchange="setLineBends(this)" id="inherits-ort" name="inherits" value="taxi" checked="true"></td>
          <td><input type="radio" onchange="setLineBends(this)" id="inherits-bez" name="inherits" value="bezier"></td>
        </tr>
        <tr>
          <td>Calls</td>
          <td><input type="radio" onchange="setLineBends(this)" id="calls-ort" name="calls" value="taxi"></td>
          <td><input type="radio" onchange="setLineBends(this)" id="calls-bez" name="calls" value="bezier" checked="true"></td>
        </tr>
        <tr>
          <td>Creates</td>
          <td><input type="radio" onchange="setLineBends(this)" id="creates-ort" name="creates" value="taxi"></td>
          <td><input type="radio" onchange="setLineBends(this)" id="creates-bez" name="creates" value="bezier" checked="true"></td>
        </tr>
        <tr>
          <td>Uses</td>
          <td><input type="radio" onchange="setLineBends(this)" id="uses-ort" name="uses" value="taxi"></td>
          <td><input type="radio" onchange="setLineBends(this)" id="uses-bez" name="uses" value="bezier" checked="true"></td>
        </tr>
        <tr>
          <td>Has</td>
          <td><input type="radio" onchange="setLineBends(this)" id="has-ort" name="has" value="taxi"></td>
          <td><input type="radio" onchange="setLineBends(this)" id="has-bez" name="has" value="bezier" checked="true"></td>
        </tr>
        <tr>
          <td>References</td>
          <td><input type="radio" onchange="setLineBends(this)" id="references-ort" name="references" value="taxi"></td>
          <td><input type="radio" onchange="setLineBends(this)" id="references-bez" name="references" value="bezier" checked="true"></td>
        </tr>
      </table>
    </div>
    
    <div class="menu">
      <h2>Layout algorithm</h2>
      <label for="layout">Select layout
        <select id="selectlayout" size="1"> 
          <option selected value="cola">cola</option> 
          <option value="klay">klay</option> 
          <option value="spread">spread</option> 
          <option value="dagre">dagre</option> 
        </select> 
      </label>
      <button onclick="relayout(document.getElementById('selectlayout').options[document.getElementById('selectlayout').selectedIndex].value)">Relayout</button>
      <!-- <button onclick="relayout()">Relayout</button> -->
    </div>
      
    <div class="menu">
      <h2>Highlight classes</h2>
      <label for="highlight">Separate classes by comma, whitespace, or new line</label>

      <textarea id="highlight" name="highlight" rows="3" cols="30"></textarea>
      <button onclick="highlight(document.getElementById('highlight').value
      )">Highlight</button>
    </div>
    
  </div>
  
  <div id="cy"></div>
  
  <script src="script.js"></script>
</body>
</html>